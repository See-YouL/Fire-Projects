<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>22-DMA-MtoP: DMAå®éªŒ2: M to P</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">22-DMA-MtoP<span id="projectnumber">&#160;beta 0.01</span>
   </div>
   <div id="projectbrief">DMAå®éªŒå­˜å‚¨å™¨åˆ°å¤–è®¾</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">DMAå®éªŒ2: M to P</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> <b>å®éªŒéœ€æ±‚</b>: SRAM to ä¸²å£, åŒæ—¶LEDç¯é—ªçƒ, æ¼”ç¤ºDMAæ•°æ®ä¸éœ€å ç”¨CPU</p>
<h1><a class="anchor" id="autotoc_md1"></a>
åœ¨bsp_dma_m2p.hä¸­åŠ å…¥å®å®šä¹‰</h1>
<div class="fragment"><div class="line"><span class="comment">// ä¸²å£å·¥ä½œå‚æ•°å®å®šä¹‰</span></div>
<div class="line"><span class="preprocessor">#define  DEBUG_USARTx                   USART1</span></div>
<div class="line"><span class="preprocessor">#define  DEBUG_USART_CLK                RCC_APB2Periph_USART1</span></div>
<div class="line"><span class="preprocessor">#define  DEBUG_USART_APBxClkCmd         RCC_APB2PeriphClockCmd</span></div>
<div class="line"><span class="preprocessor">#define  DEBUG_USART_BAUDRATE           115200</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// USART GPIO å¼•è„šå®å®šä¹‰</span></div>
<div class="line"><span class="preprocessor">#define  DEBUG_USART_GPIO_CLK           (RCC_APB2Periph_GPIOA)</span></div>
<div class="line"><span class="preprocessor">#define  DEBUG_USART_GPIO_APBxClkCmd    RCC_APB2PeriphClockCmd</span></div>
<div class="line"><span class="preprocessor">#define  DEBUG_USART_TX_GPIO_PORT       GPIOA   </span></div>
<div class="line"><span class="preprocessor">#define  DEBUG_USART_TX_GPIO_PIN        GPIO_Pin_9</span></div>
<div class="line"><span class="preprocessor">#define  DEBUG_USART_RX_GPIO_PORT       GPIOA</span></div>
<div class="line"><span class="preprocessor">#define  DEBUG_USART_RX_GPIO_PIN        GPIO_Pin_10</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define USART_TX_DMA_CLK RCC_AHBPeriph_DMA1 </span><span class="comment">// ä¸²å£DMAæ—¶é’Ÿ</span></div>
<div class="line"><span class="preprocessor">#define  USART_TX_DMA_CHANNEL     DMA1_Channel4 </span><span class="comment">// ä¸²å£å¯¹åº”çš„DMAè¯·æ±‚é€šé“</span></div>
<div class="line"><span class="preprocessor">#define  USART_DR_ADDRESS        (USART1_BASE+0x04) </span><span class="comment">// å¤–è®¾å¯„å­˜å™¨åœ°å€</span></div>
<div class="line"><span class="preprocessor">#define  SENDBUFF_SIZE            5000 </span><span class="comment">// ä¸€æ¬¡å‘é€çš„æ•°æ®é‡</span></div>
<div class="line"><span class="preprocessor">#define  USART_TX_DMA_FLAG_TC DMA1_FLAG_TC4 </span><span class="comment">// æ ‡å¿—ä½</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2"></a>
åœ¨bsp_dma_m2p.cä¸­åŠ å…¥USARTçš„åˆå§‹åŒ–å‡½æ•°</h1>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="bsp__dma__m2p_8c.html#ae9720bf2dbb461c28e0205b050f1a0bb">USART_Config</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="struct_g_p_i_o___init_type_def.html">GPIO_InitTypeDef</a> GPIO_InitStructure;</div>
<div class="line">    <a class="code hl_struct" href="struct_u_s_a_r_t___init_type_def.html">USART_InitTypeDef</a> USART_InitStructure;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// æ‰“å¼€ä¸²å£GPIOçš„æ—¶é’Ÿ</span></div>
<div class="line">    <a class="code hl_define" href="bsp__dma__m2p_8h.html#a693b0cd655516067ce7ff0e35c887497">DEBUG_USART_GPIO_APBxClkCmd</a>(<a class="code hl_define" href="bsp__dma__m2p_8h.html#a6cb3d99c7be121319caafdc1645feba6">DEBUG_USART_GPIO_CLK</a>, <a class="code hl_enumvalue" href="group___exported__types.html#ggac9a7e9a35d2513ec15c3b537aaa4fba1a7d46875fa3ebd2c34d2756950eda83bf">ENABLE</a>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// æ‰“å¼€ä¸²å£å¤–è®¾çš„æ—¶é’Ÿ</span></div>
<div class="line">    <a class="code hl_define" href="bsp__dma__m2p_8h.html#a47dede86fdd87b40f3062912789245bb">DEBUG_USART_APBxClkCmd</a>(<a class="code hl_define" href="bsp__dma__m2p_8h.html#afed6907eaab6877f77e04ec3fc42b425">DEBUG_USART_CLK</a>, <a class="code hl_enumvalue" href="group___exported__types.html#ggac9a7e9a35d2513ec15c3b537aaa4fba1a7d46875fa3ebd2c34d2756950eda83bf">ENABLE</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// å°†USART Txçš„GPIOé…ç½®ä¸ºæ¨æŒ½å¤ç”¨æ¨¡å¼</span></div>
<div class="line">    GPIO_InitStructure.<a class="code hl_variable" href="struct_g_p_i_o___init_type_def.html#a35fc26fc58226126c5b99478a472e5e9">GPIO_Pin</a> = <a class="code hl_define" href="bsp__dma__m2p_8h.html#a9990264960ebac5ab34bec7fa46575cd">DEBUG_USART_TX_GPIO_PIN</a>;</div>
<div class="line">    GPIO_InitStructure.<a class="code hl_variable" href="struct_g_p_i_o___init_type_def.html#a55bd77e335c2bfeec9caa5dc922b791b">GPIO_Mode</a> = <a class="code hl_enumvalue" href="group___g_p_i_o___exported___types.html#gga1347339e1c84a196fabbb31205eec5d4a5c7a69abc1bf31a8d24e896ed94bded9">GPIO_Mode_AF_PP</a>;</div>
<div class="line">    GPIO_InitStructure.<a class="code hl_variable" href="struct_g_p_i_o___init_type_def.html#ac05832cacebc861a9acf5294d702c16b">GPIO_Speed</a> = <a class="code hl_enumvalue" href="group___g_p_i_o___exported___types.html#gga062ad92b67b4a1f301c161022cf3ba8ea9c47db10456202ac05134b12738ce581">GPIO_Speed_50MHz</a>;</div>
<div class="line">    <a class="code hl_function" href="group___g_p_i_o___exported___functions.html#ga71abf9404261370d03cca449b88d3a65">GPIO_Init</a>(<a class="code hl_define" href="bsp__dma__m2p_8h.html#a091ae7961859a90d17bb46ce23570c84">DEBUG_USART_TX_GPIO_PORT</a>, &amp;GPIO_InitStructure);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// å°†USART Rxçš„GPIOé…ç½®ä¸ºæµ®ç©ºè¾“å…¥æ¨¡å¼</span></div>
<div class="line">    GPIO_InitStructure.<a class="code hl_variable" href="struct_g_p_i_o___init_type_def.html#a35fc26fc58226126c5b99478a472e5e9">GPIO_Pin</a> = <a class="code hl_define" href="bsp__dma__m2p_8h.html#a6704ac7dc934406065861dd0b2a9b9af">DEBUG_USART_RX_GPIO_PIN</a>;</div>
<div class="line">    GPIO_InitStructure.<a class="code hl_variable" href="struct_g_p_i_o___init_type_def.html#a55bd77e335c2bfeec9caa5dc922b791b">GPIO_Mode</a> = <a class="code hl_enumvalue" href="group___g_p_i_o___exported___types.html#gga1347339e1c84a196fabbb31205eec5d4a0e3d2ce89b42f093d327a5e42e4d7cc2">GPIO_Mode_IN_FLOATING</a>;</div>
<div class="line">    <a class="code hl_function" href="group___g_p_i_o___exported___functions.html#ga71abf9404261370d03cca449b88d3a65">GPIO_Init</a>(<a class="code hl_define" href="bsp__dma__m2p_8h.html#a1bab3a04682087812a25adc2447d68e3">DEBUG_USART_RX_GPIO_PORT</a>, &amp;GPIO_InitStructure);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// é…ç½®ä¸²å£çš„å·¥ä½œå‚æ•°</span></div>
<div class="line">    <span class="comment">// é…ç½®æ³¢ç‰¹ç‡</span></div>
<div class="line">    USART_InitStructure.<a class="code hl_variable" href="struct_u_s_a_r_t___init_type_def.html#a6f763cb0e6044f838ee764ce437997b2">USART_BaudRate</a> = <a class="code hl_define" href="bsp__dma__m2p_8h.html#a7ff41aaae2fa2e227e6b47894130275a">DEBUG_USART_BAUDRATE</a>;</div>
<div class="line">    <span class="comment">// é…ç½® é’ˆæ•°æ®å­—é•¿</span></div>
<div class="line">    USART_InitStructure.<a class="code hl_variable" href="struct_u_s_a_r_t___init_type_def.html#a16d1fb7ccc2b51964f1bcfcbfba6d89d">USART_WordLength</a> = <a class="code hl_define" href="group___u_s_a_r_t___word___length.html#ga08682faddc657df85a93627b5a146c25">USART_WordLength_8b</a>;</div>
<div class="line">    <span class="comment">// é…ç½®åœæ­¢ä½</span></div>
<div class="line">    USART_InitStructure.<a class="code hl_variable" href="struct_u_s_a_r_t___init_type_def.html#ac745bceb79a6c4c2640fd8e8ce6639d6">USART_StopBits</a> = <a class="code hl_define" href="group___u_s_a_r_t___stop___bits.html#gae2cb35620ba001f0d63e9e0be93e4a05">USART_StopBits_1</a>;</div>
<div class="line">    <span class="comment">// é…ç½®æ ¡éªŒä½</span></div>
<div class="line">    USART_InitStructure.<a class="code hl_variable" href="struct_u_s_a_r_t___init_type_def.html#a5ae66aba755bac37c5cf0dfbf529e2ed">USART_Parity</a> = <a class="code hl_define" href="group___u_s_a_r_t___parity.html#gab9deebcb0a859360dfec85074abaa3aa">USART_Parity_No</a> ;</div>
<div class="line">    <span class="comment">// é…ç½®ç¡¬ä»¶æµæ§åˆ¶</span></div>
<div class="line">    USART_InitStructure.<a class="code hl_variable" href="struct_u_s_a_r_t___init_type_def.html#a9996edf3bfd90c36f03b4075969703f5">USART_HardwareFlowControl</a> = <a class="code hl_define" href="group___u_s_a_r_t___hardware___flow___control.html#gaf3deaf4429b88db7753ee203f4797bd3">USART_HardwareFlowControl_None</a>;</div>
<div class="line">    <span class="comment">// é…ç½®å·¥ä½œæ¨¡å¼ï¼Œæ”¶å‘ä¸€èµ·</span></div>
<div class="line">    USART_InitStructure.<a class="code hl_variable" href="struct_u_s_a_r_t___init_type_def.html#a7d944d35d7d1fc79a63f249615148584">USART_Mode</a> = <a class="code hl_define" href="group___u_s_a_r_t___mode.html#gafefcc3d3c1a1f83b425784fa6289aecf">USART_Mode_Rx</a> | <a class="code hl_define" href="group___u_s_a_r_t___mode.html#ga22b2813509a062435ea68d086ec565b4">USART_Mode_Tx</a>;</div>
<div class="line">    <span class="comment">// å®Œæˆä¸²å£çš„åˆå§‹åŒ–é…ç½®</span></div>
<div class="line">    <a class="code hl_function" href="group___u_s_a_r_t___exported___functions.html#ga98da340ea0324002ba1b4263e91ab2ff">USART_Init</a>(<a class="code hl_define" href="bsp__dma__m2p_8h.html#a53fd4b6f533e839273891855c5c90266">DEBUG_USARTx</a>, &amp;USART_InitStructure); </div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ä½¿èƒ½ä¸²å£</span></div>
<div class="line">    <a class="code hl_function" href="group___u_s_a_r_t___exported___functions.html#ga45e51626739c5f22a6567c8a85d1d85e">USART_Cmd</a>(<a class="code hl_define" href="bsp__dma__m2p_8h.html#a53fd4b6f533e839273891855c5c90266">DEBUG_USARTx</a>, <a class="code hl_enumvalue" href="group___exported__types.html#ggac9a7e9a35d2513ec15c3b537aaa4fba1a7d46875fa3ebd2c34d2756950eda83bf">ENABLE</a>);        </div>
<div class="line">}</div>
<div class="ttc" id="absp__dma__m2p_8c_html_ae9720bf2dbb461c28e0205b050f1a0bb"><div class="ttname"><a href="bsp__dma__m2p_8c.html#ae9720bf2dbb461c28e0205b050f1a0bb">USART_Config</a></div><div class="ttdeci">void USART_Config(void)</div><div class="ttdoc">USART GPIO é…ç½®,å·¥ä½œå‚æ•°é…ç½®</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.c:20</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a091ae7961859a90d17bb46ce23570c84"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a091ae7961859a90d17bb46ce23570c84">DEBUG_USART_TX_GPIO_PORT</a></div><div class="ttdeci">#define DEBUG_USART_TX_GPIO_PORT</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:26</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a1bab3a04682087812a25adc2447d68e3"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a1bab3a04682087812a25adc2447d68e3">DEBUG_USART_RX_GPIO_PORT</a></div><div class="ttdeci">#define DEBUG_USART_RX_GPIO_PORT</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:28</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a47dede86fdd87b40f3062912789245bb"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a47dede86fdd87b40f3062912789245bb">DEBUG_USART_APBxClkCmd</a></div><div class="ttdeci">#define DEBUG_USART_APBxClkCmd</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:20</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a53fd4b6f533e839273891855c5c90266"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a53fd4b6f533e839273891855c5c90266">DEBUG_USARTx</a></div><div class="ttdeci">#define DEBUG_USARTx</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:18</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a6704ac7dc934406065861dd0b2a9b9af"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a6704ac7dc934406065861dd0b2a9b9af">DEBUG_USART_RX_GPIO_PIN</a></div><div class="ttdeci">#define DEBUG_USART_RX_GPIO_PIN</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:29</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a693b0cd655516067ce7ff0e35c887497"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a693b0cd655516067ce7ff0e35c887497">DEBUG_USART_GPIO_APBxClkCmd</a></div><div class="ttdeci">#define DEBUG_USART_GPIO_APBxClkCmd</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:25</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a6cb3d99c7be121319caafdc1645feba6"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a6cb3d99c7be121319caafdc1645feba6">DEBUG_USART_GPIO_CLK</a></div><div class="ttdeci">#define DEBUG_USART_GPIO_CLK</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:24</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a7ff41aaae2fa2e227e6b47894130275a"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a7ff41aaae2fa2e227e6b47894130275a">DEBUG_USART_BAUDRATE</a></div><div class="ttdeci">#define DEBUG_USART_BAUDRATE</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:21</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a9990264960ebac5ab34bec7fa46575cd"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a9990264960ebac5ab34bec7fa46575cd">DEBUG_USART_TX_GPIO_PIN</a></div><div class="ttdeci">#define DEBUG_USART_TX_GPIO_PIN</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:27</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_afed6907eaab6877f77e04ec3fc42b425"><div class="ttname"><a href="bsp__dma__m2p_8h.html#afed6907eaab6877f77e04ec3fc42b425">DEBUG_USART_CLK</a></div><div class="ttdeci">#define DEBUG_USART_CLK</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:19</div></div>
<div class="ttc" id="agroup___exported__types_html_ggac9a7e9a35d2513ec15c3b537aaa4fba1a7d46875fa3ebd2c34d2756950eda83bf"><div class="ttname"><a href="group___exported__types.html#ggac9a7e9a35d2513ec15c3b537aaa4fba1a7d46875fa3ebd2c34d2756950eda83bf">ENABLE</a></div><div class="ttdeci">@ ENABLE</div><div class="ttdef"><b>Definition</b> stm32f10x.h:521</div></div>
<div class="ttc" id="agroup___g_p_i_o___exported___functions_html_ga71abf9404261370d03cca449b88d3a65"><div class="ttname"><a href="group___g_p_i_o___exported___functions.html#ga71abf9404261370d03cca449b88d3a65">GPIO_Init</a></div><div class="ttdeci">void GPIO_Init(GPIO_TypeDef *GPIOx, GPIO_InitTypeDef *GPIO_InitStruct)</div><div class="ttdoc">Initializes the GPIOx peripheral according to the specified parameters in the GPIO_InitStruct.</div><div class="ttdef"><b>Definition</b> stm32f10x_gpio.c:173</div></div>
<div class="ttc" id="agroup___g_p_i_o___exported___types_html_gga062ad92b67b4a1f301c161022cf3ba8ea9c47db10456202ac05134b12738ce581"><div class="ttname"><a href="group___g_p_i_o___exported___types.html#gga062ad92b67b4a1f301c161022cf3ba8ea9c47db10456202ac05134b12738ce581">GPIO_Speed_50MHz</a></div><div class="ttdeci">@ GPIO_Speed_50MHz</div><div class="ttdef"><b>Definition</b> stm32f10x_gpio.h:62</div></div>
<div class="ttc" id="agroup___g_p_i_o___exported___types_html_gga1347339e1c84a196fabbb31205eec5d4a0e3d2ce89b42f093d327a5e42e4d7cc2"><div class="ttname"><a href="group___g_p_i_o___exported___types.html#gga1347339e1c84a196fabbb31205eec5d4a0e3d2ce89b42f093d327a5e42e4d7cc2">GPIO_Mode_IN_FLOATING</a></div><div class="ttdeci">@ GPIO_Mode_IN_FLOATING</div><div class="ttdef"><b>Definition</b> stm32f10x_gpio.h:73</div></div>
<div class="ttc" id="agroup___g_p_i_o___exported___types_html_gga1347339e1c84a196fabbb31205eec5d4a5c7a69abc1bf31a8d24e896ed94bded9"><div class="ttname"><a href="group___g_p_i_o___exported___types.html#gga1347339e1c84a196fabbb31205eec5d4a5c7a69abc1bf31a8d24e896ed94bded9">GPIO_Mode_AF_PP</a></div><div class="ttdeci">@ GPIO_Mode_AF_PP</div><div class="ttdef"><b>Definition</b> stm32f10x_gpio.h:79</div></div>
<div class="ttc" id="agroup___u_s_a_r_t___exported___functions_html_ga45e51626739c5f22a6567c8a85d1d85e"><div class="ttname"><a href="group___u_s_a_r_t___exported___functions.html#ga45e51626739c5f22a6567c8a85d1d85e">USART_Cmd</a></div><div class="ttdeci">void USART_Cmd(USART_TypeDef *USARTx, FunctionalState NewState)</div><div class="ttdoc">Enables or disables the specified USART peripheral.</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.c:351</div></div>
<div class="ttc" id="agroup___u_s_a_r_t___exported___functions_html_ga98da340ea0324002ba1b4263e91ab2ff"><div class="ttname"><a href="group___u_s_a_r_t___exported___functions.html#ga98da340ea0324002ba1b4263e91ab2ff">USART_Init</a></div><div class="ttdeci">void USART_Init(USART_TypeDef *USARTx, USART_InitTypeDef *USART_InitStruct)</div><div class="ttdoc">Initializes the USARTx peripheral according to the specified parameters in the USART_InitStruct .</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.c:176</div></div>
<div class="ttc" id="agroup___u_s_a_r_t___hardware___flow___control_html_gaf3deaf4429b88db7753ee203f4797bd3"><div class="ttname"><a href="group___u_s_a_r_t___hardware___flow___control.html#gaf3deaf4429b88db7753ee203f4797bd3">USART_HardwareFlowControl_None</a></div><div class="ttdeci">#define USART_HardwareFlowControl_None</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:178</div></div>
<div class="ttc" id="agroup___u_s_a_r_t___mode_html_ga22b2813509a062435ea68d086ec565b4"><div class="ttname"><a href="group___u_s_a_r_t___mode.html#ga22b2813509a062435ea68d086ec565b4">USART_Mode_Tx</a></div><div class="ttdeci">#define USART_Mode_Tx</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:169</div></div>
<div class="ttc" id="agroup___u_s_a_r_t___mode_html_gafefcc3d3c1a1f83b425784fa6289aecf"><div class="ttname"><a href="group___u_s_a_r_t___mode.html#gafefcc3d3c1a1f83b425784fa6289aecf">USART_Mode_Rx</a></div><div class="ttdeci">#define USART_Mode_Rx</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:168</div></div>
<div class="ttc" id="agroup___u_s_a_r_t___parity_html_gab9deebcb0a859360dfec85074abaa3aa"><div class="ttname"><a href="group___u_s_a_r_t___parity.html#gab9deebcb0a859360dfec85074abaa3aa">USART_Parity_No</a></div><div class="ttdeci">#define USART_Parity_No</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:154</div></div>
<div class="ttc" id="agroup___u_s_a_r_t___stop___bits_html_gae2cb35620ba001f0d63e9e0be93e4a05"><div class="ttname"><a href="group___u_s_a_r_t___stop___bits.html#gae2cb35620ba001f0d63e9e0be93e4a05">USART_StopBits_1</a></div><div class="ttdeci">#define USART_StopBits_1</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:138</div></div>
<div class="ttc" id="agroup___u_s_a_r_t___word___length_html_ga08682faddc657df85a93627b5a146c25"><div class="ttname"><a href="group___u_s_a_r_t___word___length.html#ga08682faddc657df85a93627b5a146c25">USART_WordLength_8b</a></div><div class="ttdeci">#define USART_WordLength_8b</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:125</div></div>
<div class="ttc" id="astruct_g_p_i_o___init_type_def_html"><div class="ttname"><a href="struct_g_p_i_o___init_type_def.html">GPIO_InitTypeDef</a></div><div class="ttdoc">GPIO Init structure definition</div><div class="ttdef"><b>Definition</b> stm32f10x_gpio.h:92</div></div>
<div class="ttc" id="astruct_g_p_i_o___init_type_def_html_a35fc26fc58226126c5b99478a472e5e9"><div class="ttname"><a href="struct_g_p_i_o___init_type_def.html#a35fc26fc58226126c5b99478a472e5e9">GPIO_InitTypeDef::GPIO_Pin</a></div><div class="ttdeci">uint16_t GPIO_Pin</div><div class="ttdef"><b>Definition</b> stm32f10x_gpio.h:93</div></div>
<div class="ttc" id="astruct_g_p_i_o___init_type_def_html_a55bd77e335c2bfeec9caa5dc922b791b"><div class="ttname"><a href="struct_g_p_i_o___init_type_def.html#a55bd77e335c2bfeec9caa5dc922b791b">GPIO_InitTypeDef::GPIO_Mode</a></div><div class="ttdeci">GPIOMode_TypeDef GPIO_Mode</div><div class="ttdef"><b>Definition</b> stm32f10x_gpio.h:99</div></div>
<div class="ttc" id="astruct_g_p_i_o___init_type_def_html_ac05832cacebc861a9acf5294d702c16b"><div class="ttname"><a href="struct_g_p_i_o___init_type_def.html#ac05832cacebc861a9acf5294d702c16b">GPIO_InitTypeDef::GPIO_Speed</a></div><div class="ttdeci">GPIOSpeed_TypeDef GPIO_Speed</div><div class="ttdef"><b>Definition</b> stm32f10x_gpio.h:96</div></div>
<div class="ttc" id="astruct_u_s_a_r_t___init_type_def_html"><div class="ttname"><a href="struct_u_s_a_r_t___init_type_def.html">USART_InitTypeDef</a></div><div class="ttdoc">USART Init Structure definition</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:51</div></div>
<div class="ttc" id="astruct_u_s_a_r_t___init_type_def_html_a16d1fb7ccc2b51964f1bcfcbfba6d89d"><div class="ttname"><a href="struct_u_s_a_r_t___init_type_def.html#a16d1fb7ccc2b51964f1bcfcbfba6d89d">USART_InitTypeDef::USART_WordLength</a></div><div class="ttdeci">uint16_t USART_WordLength</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:57</div></div>
<div class="ttc" id="astruct_u_s_a_r_t___init_type_def_html_a5ae66aba755bac37c5cf0dfbf529e2ed"><div class="ttname"><a href="struct_u_s_a_r_t___init_type_def.html#a5ae66aba755bac37c5cf0dfbf529e2ed">USART_InitTypeDef::USART_Parity</a></div><div class="ttdeci">uint16_t USART_Parity</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:63</div></div>
<div class="ttc" id="astruct_u_s_a_r_t___init_type_def_html_a6f763cb0e6044f838ee764ce437997b2"><div class="ttname"><a href="struct_u_s_a_r_t___init_type_def.html#a6f763cb0e6044f838ee764ce437997b2">USART_InitTypeDef::USART_BaudRate</a></div><div class="ttdeci">uint32_t USART_BaudRate</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:52</div></div>
<div class="ttc" id="astruct_u_s_a_r_t___init_type_def_html_a7d944d35d7d1fc79a63f249615148584"><div class="ttname"><a href="struct_u_s_a_r_t___init_type_def.html#a7d944d35d7d1fc79a63f249615148584">USART_InitTypeDef::USART_Mode</a></div><div class="ttdeci">uint16_t USART_Mode</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:70</div></div>
<div class="ttc" id="astruct_u_s_a_r_t___init_type_def_html_a9996edf3bfd90c36f03b4075969703f5"><div class="ttname"><a href="struct_u_s_a_r_t___init_type_def.html#a9996edf3bfd90c36f03b4075969703f5">USART_InitTypeDef::USART_HardwareFlowControl</a></div><div class="ttdeci">uint16_t USART_HardwareFlowControl</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:73</div></div>
<div class="ttc" id="astruct_u_s_a_r_t___init_type_def_html_ac745bceb79a6c4c2640fd8e8ce6639d6"><div class="ttname"><a href="struct_u_s_a_r_t___init_type_def.html#ac745bceb79a6c4c2640fd8e8ce6639d6">USART_InitTypeDef::USART_StopBits</a></div><div class="ttdeci">uint16_t USART_StopBits</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:60</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
åœ¨bsp_dma_m2p.cä¸­åŠ å…¥USARTx_TX DMAé…ç½®, å®ç°å†…å­˜åˆ°å¤–è®¾(USART1-&gt;DR)</h1>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="bsp__dma__m2p_8c.html#a159c123526e5bfa3352f384285db5a6d">USARTx_DMA_Config</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">        <a class="code hl_struct" href="struct_d_m_a___init_type_def.html">DMA_InitTypeDef</a> DMA_InitStructure;</div>
<div class="line">    </div>
<div class="line">        <span class="comment">// å¼€å¯DMAæ—¶é’Ÿ</span></div>
<div class="line">        <a class="code hl_function" href="group___r_c_c___exported___functions.html#gae0b30d8598b8393bdba9c3fefba3a968">RCC_AHBPeriphClockCmd</a>(<a class="code hl_define" href="bsp__dma__m2p_8h.html#a0409832fda690702148e88e97a383676">USART_TX_DMA_CLK</a>, <a class="code hl_enumvalue" href="group___exported__types.html#ggac9a7e9a35d2513ec15c3b537aaa4fba1a7d46875fa3ebd2c34d2756950eda83bf">ENABLE</a>);</div>
<div class="line">        <span class="comment">// è®¾ç½®DMAæºåœ°å€ï¼šä¸²å£æ•°æ®å¯„å­˜å™¨åœ°å€*/</span></div>
<div class="line">        DMA_InitStructure.<a class="code hl_variable" href="struct_d_m_a___init_type_def.html#a232af556de7c2eec9a82d448730bd86d">DMA_PeripheralBaseAddr</a> = <a class="code hl_define" href="bsp__dma__m2p_8h.html#a6386f4510dfb8cd07c86eb32eb12b901">USART_DR_ADDRESS</a>;</div>
<div class="line">        <span class="comment">// å†…å­˜åœ°å€(è¦ä¼ è¾“çš„å˜é‡çš„æŒ‡é’ˆ)</span></div>
<div class="line">        DMA_InitStructure.<a class="code hl_variable" href="struct_d_m_a___init_type_def.html#a41e7d463f0cfbcedf3170d7d27d088df">DMA_MemoryBaseAddr</a> = (<a class="code hl_typedef" href="group___exported__types.html#gafaa62991928fb9fb18ff0db62a040aba">u32</a>)<a class="code hl_variable" href="bsp__dma__m2p_8c.html#ad0be6bea973e44b948cee6fe0e755fcb">SendBuff</a>;</div>
<div class="line">        <span class="comment">// æ–¹å‘ï¼šä»å†…å­˜åˆ°å¤–è®¾    </span></div>
<div class="line">        DMA_InitStructure.<a class="code hl_variable" href="struct_d_m_a___init_type_def.html#a91b47435ccf4a40efa97bbbe631789e1">DMA_DIR</a> = <a class="code hl_define" href="group___d_m_a__data__transfer__direction.html#ga51567b748ddac277743c65c20275971a">DMA_DIR_PeripheralDST</a>;</div>
<div class="line">        <span class="comment">// ä¼ è¾“å¤§å° </span></div>
<div class="line">        DMA_InitStructure.<a class="code hl_variable" href="struct_d_m_a___init_type_def.html#a999df57215b28b3b1b3b6836c4952ca5">DMA_BufferSize</a> = <a class="code hl_define" href="bsp__dma__m2p_8h.html#affc4739854f3670ccc0279a9accf0e89">SENDBUFF_SIZE</a>;</div>
<div class="line">        <span class="comment">// å¤–è®¾åœ°å€ä¸å¢       </span></div>
<div class="line">        DMA_InitStructure.<a class="code hl_variable" href="struct_d_m_a___init_type_def.html#ad4d427790f9a089ca0257a358fc263c2">DMA_PeripheralInc</a> = <a class="code hl_define" href="group___d_m_a__peripheral__incremented__mode.html#ga0fe3ff9c67bec802dd239fd17c3dbd31">DMA_PeripheralInc_Disable</a>;</div>
<div class="line">        <span class="comment">// å†…å­˜åœ°å€è‡ªå¢</span></div>
<div class="line">        DMA_InitStructure.<a class="code hl_variable" href="struct_d_m_a___init_type_def.html#aaf69c680a297ec01a2ed613289e691a1">DMA_MemoryInc</a> = <a class="code hl_define" href="group___d_m_a__memory__incremented__mode.html#ga4e8cb23d039c74bbbf365d7678835bbb">DMA_MemoryInc_Enable</a>;</div>
<div class="line">        <span class="comment">// å¤–è®¾æ•°æ®å•ä½   </span></div>
<div class="line">        DMA_InitStructure.<a class="code hl_variable" href="struct_d_m_a___init_type_def.html#afb46aaadfb80a7e19277c868bd252554">DMA_PeripheralDataSize</a> = <a class="code hl_define" href="group___d_m_a__peripheral__data__size.html#ga7577035ae4ff413164000227a8cea346">DMA_PeripheralDataSize_Byte</a>;</div>
<div class="line">        <span class="comment">// å†…å­˜æ•°æ®å•ä½</span></div>
<div class="line">        DMA_InitStructure.<a class="code hl_variable" href="struct_d_m_a___init_type_def.html#a74bb71921c4d198d6cf1979c120f694f">DMA_MemoryDataSize</a> = <a class="code hl_define" href="group___d_m_a__memory__data__size.html#gad6093bccb60ff9adf81e21c73c58ba17">DMA_MemoryDataSize_Byte</a>;  </div>
<div class="line">        <span class="comment">// DMAæ¨¡å¼ï¼Œä¸€æ¬¡æˆ–è€…å¾ªç¯æ¨¡å¼</span></div>
<div class="line">        DMA_InitStructure.<a class="code hl_variable" href="struct_d_m_a___init_type_def.html#a8adbe6f3e46471d109afaa3111dce220">DMA_Mode</a> = <a class="code hl_define" href="group___d_m_a__circular__normal__mode.html#ga36400f5b5095f1102ede4760d7a5959c">DMA_Mode_Normal</a> ;</div>
<div class="line">        <span class="comment">// DMA_InitStructure.DMA_Mode = DMA_Mode_Circular;  </span></div>
<div class="line">        <span class="comment">// ä¼˜å…ˆçº§ï¼šä¸­    </span></div>
<div class="line">        DMA_InitStructure.<a class="code hl_variable" href="struct_d_m_a___init_type_def.html#ab9a17bd51778478cbd728c868206dca0">DMA_Priority</a> = <a class="code hl_define" href="group___d_m_a__priority__level.html#ga8e0d4a958f4288c6c759945789490f38">DMA_Priority_Medium</a>; </div>
<div class="line">        <span class="comment">// ç¦æ­¢å†…å­˜åˆ°å†…å­˜çš„ä¼ è¾“</span></div>
<div class="line">        DMA_InitStructure.<a class="code hl_variable" href="struct_d_m_a___init_type_def.html#a57944cc447e6fcde4e9aa6229d3b4c5d">DMA_M2M</a> = <a class="code hl_define" href="group___d_m_a__memory__to__memory.html#ga86e0a7076f0badd509fac6576f3b5355">DMA_M2M_Disable</a>;</div>
<div class="line">        <span class="comment">// é…ç½®DMAé€šé“         </span></div>
<div class="line">        <a class="code hl_function" href="group___d_m_a___exported___functions.html#ga7c3d1b9dc041f8e5f2cfc8d5dd858278">DMA_Init</a>(<a class="code hl_define" href="bsp__dma__m2p_8h.html#ab8482dba61154b7a745d949a244065a2">USART_TX_DMA_CHANNEL</a>, &amp;DMA_InitStructure);     </div>
<div class="line">        <span class="comment">// æ¸…é™¤TCæ ‡å¿—ä½</span></div>
<div class="line">        <a class="code hl_function" href="group___d_m_a___exported___functions.html#ga25cdca360f309c8ceb7c206cd9ad9119">DMA_ClearFlag</a>(<a class="code hl_define" href="bsp__dma__m2p_8h.html#a8e6dff858459b1c89a392246d466e587">USART_TX_DMA_FLAG_TC</a>);</div>
<div class="line">        <span class="comment">// ä½¿èƒ½DMA</span></div>
<div class="line">        <a class="code hl_function" href="group___d_m_a___exported___functions.html#ga8e7cb6b9ae5f142e2961df879cdaba65">DMA_Cmd</a> (<a class="code hl_define" href="bsp__dma__m2p_8h.html#ab8482dba61154b7a745d949a244065a2">USART_TX_DMA_CHANNEL</a>, <a class="code hl_enumvalue" href="group___exported__types.html#ggac9a7e9a35d2513ec15c3b537aaa4fba1a7d46875fa3ebd2c34d2756950eda83bf">ENABLE</a>);</div>
<div class="line">}</div>
<div class="ttc" id="absp__dma__m2p_8c_html_a159c123526e5bfa3352f384285db5a6d"><div class="ttname"><a href="bsp__dma__m2p_8c.html#a159c123526e5bfa3352f384285db5a6d">USARTx_DMA_Config</a></div><div class="ttdeci">void USARTx_DMA_Config(void)</div><div class="ttdoc">USARTx TX DMA é…ç½®ï¼Œå†…å­˜åˆ°å¤–è®¾(USART1-&gt;DR)</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.c:68</div></div>
<div class="ttc" id="absp__dma__m2p_8c_html_ad0be6bea973e44b948cee6fe0e755fcb"><div class="ttname"><a href="bsp__dma__m2p_8c.html#ad0be6bea973e44b948cee6fe0e755fcb">SendBuff</a></div><div class="ttdeci">uint8_t SendBuff[SENDBUFF_SIZE]</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.c:13</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a0409832fda690702148e88e97a383676"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a0409832fda690702148e88e97a383676">USART_TX_DMA_CLK</a></div><div class="ttdeci">#define USART_TX_DMA_CLK</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:31</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a6386f4510dfb8cd07c86eb32eb12b901"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a6386f4510dfb8cd07c86eb32eb12b901">USART_DR_ADDRESS</a></div><div class="ttdeci">#define USART_DR_ADDRESS</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:33</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_a8e6dff858459b1c89a392246d466e587"><div class="ttname"><a href="bsp__dma__m2p_8h.html#a8e6dff858459b1c89a392246d466e587">USART_TX_DMA_FLAG_TC</a></div><div class="ttdeci">#define USART_TX_DMA_FLAG_TC</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:35</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_ab8482dba61154b7a745d949a244065a2"><div class="ttname"><a href="bsp__dma__m2p_8h.html#ab8482dba61154b7a745d949a244065a2">USART_TX_DMA_CHANNEL</a></div><div class="ttdeci">#define USART_TX_DMA_CHANNEL</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:32</div></div>
<div class="ttc" id="absp__dma__m2p_8h_html_affc4739854f3670ccc0279a9accf0e89"><div class="ttname"><a href="bsp__dma__m2p_8h.html#affc4739854f3670ccc0279a9accf0e89">SENDBUFF_SIZE</a></div><div class="ttdeci">#define SENDBUFF_SIZE</div><div class="ttdef"><b>Definition</b> bsp_dma_m2p.h:34</div></div>
<div class="ttc" id="agroup___d_m_a___exported___functions_html_ga25cdca360f309c8ceb7c206cd9ad9119"><div class="ttname"><a href="group___d_m_a___exported___functions.html#ga25cdca360f309c8ceb7c206cd9ad9119">DMA_ClearFlag</a></div><div class="ttdeci">void DMA_ClearFlag(uint32_t DMAy_FLAG)</div><div class="ttdoc">Clears the DMAy Channelx's pending flags.</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.c:523</div></div>
<div class="ttc" id="agroup___d_m_a___exported___functions_html_ga7c3d1b9dc041f8e5f2cfc8d5dd858278"><div class="ttname"><a href="group___d_m_a___exported___functions.html#ga7c3d1b9dc041f8e5f2cfc8d5dd858278">DMA_Init</a></div><div class="ttdeci">void DMA_Init(DMA_Channel_TypeDef *DMAy_Channelx, DMA_InitTypeDef *DMA_InitStruct)</div><div class="ttdoc">Initializes the DMAy Channelx according to the specified parameters in the DMA_InitStruct.</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.c:202</div></div>
<div class="ttc" id="agroup___d_m_a___exported___functions_html_ga8e7cb6b9ae5f142e2961df879cdaba65"><div class="ttname"><a href="group___d_m_a___exported___functions.html#ga8e7cb6b9ae5f142e2961df879cdaba65">DMA_Cmd</a></div><div class="ttdeci">void DMA_Cmd(DMA_Channel_TypeDef *DMAy_Channelx, FunctionalState NewState)</div><div class="ttdoc">Enables or disables the specified DMAy Channelx.</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.c:294</div></div>
<div class="ttc" id="agroup___d_m_a__circular__normal__mode_html_ga36400f5b5095f1102ede4760d7a5959c"><div class="ttname"><a href="group___d_m_a__circular__normal__mode.html#ga36400f5b5095f1102ede4760d7a5959c">DMA_Mode_Normal</a></div><div class="ttdeci">#define DMA_Mode_Normal</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:177</div></div>
<div class="ttc" id="agroup___d_m_a__data__transfer__direction_html_ga51567b748ddac277743c65c20275971a"><div class="ttname"><a href="group___d_m_a__data__transfer__direction.html#ga51567b748ddac277743c65c20275971a">DMA_DIR_PeripheralDST</a></div><div class="ttdeci">#define DMA_DIR_PeripheralDST</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:112</div></div>
<div class="ttc" id="agroup___d_m_a__memory__data__size_html_gad6093bccb60ff9adf81e21c73c58ba17"><div class="ttname"><a href="group___d_m_a__memory__data__size.html#gad6093bccb60ff9adf81e21c73c58ba17">DMA_MemoryDataSize_Byte</a></div><div class="ttdeci">#define DMA_MemoryDataSize_Byte</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:162</div></div>
<div class="ttc" id="agroup___d_m_a__memory__incremented__mode_html_ga4e8cb23d039c74bbbf365d7678835bbb"><div class="ttname"><a href="group___d_m_a__memory__incremented__mode.html#ga4e8cb23d039c74bbbf365d7678835bbb">DMA_MemoryInc_Enable</a></div><div class="ttdeci">#define DMA_MemoryInc_Enable</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:136</div></div>
<div class="ttc" id="agroup___d_m_a__memory__to__memory_html_ga86e0a7076f0badd509fac6576f3b5355"><div class="ttname"><a href="group___d_m_a__memory__to__memory.html#ga86e0a7076f0badd509fac6576f3b5355">DMA_M2M_Disable</a></div><div class="ttdeci">#define DMA_M2M_Disable</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:204</div></div>
<div class="ttc" id="agroup___d_m_a__peripheral__data__size_html_ga7577035ae4ff413164000227a8cea346"><div class="ttname"><a href="group___d_m_a__peripheral__data__size.html#ga7577035ae4ff413164000227a8cea346">DMA_PeripheralDataSize_Byte</a></div><div class="ttdeci">#define DMA_PeripheralDataSize_Byte</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:148</div></div>
<div class="ttc" id="agroup___d_m_a__peripheral__incremented__mode_html_ga0fe3ff9c67bec802dd239fd17c3dbd31"><div class="ttname"><a href="group___d_m_a__peripheral__incremented__mode.html#ga0fe3ff9c67bec802dd239fd17c3dbd31">DMA_PeripheralInc_Disable</a></div><div class="ttdeci">#define DMA_PeripheralInc_Disable</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:125</div></div>
<div class="ttc" id="agroup___d_m_a__priority__level_html_ga8e0d4a958f4288c6c759945789490f38"><div class="ttname"><a href="group___d_m_a__priority__level.html#ga8e0d4a958f4288c6c759945789490f38">DMA_Priority_Medium</a></div><div class="ttdeci">#define DMA_Priority_Medium</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:189</div></div>
<div class="ttc" id="agroup___exported__types_html_gafaa62991928fb9fb18ff0db62a040aba"><div class="ttname"><a href="group___exported__types.html#gafaa62991928fb9fb18ff0db62a040aba">u32</a></div><div class="ttdeci">uint32_t u32</div><div class="ttdef"><b>Definition</b> stm32f10x.h:503</div></div>
<div class="ttc" id="agroup___r_c_c___exported___functions_html_gae0b30d8598b8393bdba9c3fefba3a968"><div class="ttname"><a href="group___r_c_c___exported___functions.html#gae0b30d8598b8393bdba9c3fefba3a968">RCC_AHBPeriphClockCmd</a></div><div class="ttdeci">void RCC_AHBPeriphClockCmd(uint32_t RCC_AHBPeriph, FunctionalState NewState)</div><div class="ttdoc">Enables or disables the AHB peripheral clock.</div><div class="ttdef"><b>Definition</b> stm32f10x_rcc.c:1064</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html"><div class="ttname"><a href="struct_d_m_a___init_type_def.html">DMA_InitTypeDef</a></div><div class="ttdoc">DMA Init structure definition.</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:51</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html_a232af556de7c2eec9a82d448730bd86d"><div class="ttname"><a href="struct_d_m_a___init_type_def.html#a232af556de7c2eec9a82d448730bd86d">DMA_InitTypeDef::DMA_PeripheralBaseAddr</a></div><div class="ttdeci">uint32_t DMA_PeripheralBaseAddr</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:52</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html_a41e7d463f0cfbcedf3170d7d27d088df"><div class="ttname"><a href="struct_d_m_a___init_type_def.html#a41e7d463f0cfbcedf3170d7d27d088df">DMA_InitTypeDef::DMA_MemoryBaseAddr</a></div><div class="ttdeci">uint32_t DMA_MemoryBaseAddr</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:54</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html_a57944cc447e6fcde4e9aa6229d3b4c5d"><div class="ttname"><a href="struct_d_m_a___init_type_def.html#a57944cc447e6fcde4e9aa6229d3b4c5d">DMA_InitTypeDef::DMA_M2M</a></div><div class="ttdeci">uint32_t DMA_M2M</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:83</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html_a74bb71921c4d198d6cf1979c120f694f"><div class="ttname"><a href="struct_d_m_a___init_type_def.html#a74bb71921c4d198d6cf1979c120f694f">DMA_InitTypeDef::DMA_MemoryDataSize</a></div><div class="ttdeci">uint32_t DMA_MemoryDataSize</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:72</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html_a8adbe6f3e46471d109afaa3111dce220"><div class="ttname"><a href="struct_d_m_a___init_type_def.html#a8adbe6f3e46471d109afaa3111dce220">DMA_InitTypeDef::DMA_Mode</a></div><div class="ttdeci">uint32_t DMA_Mode</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:75</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html_a91b47435ccf4a40efa97bbbe631789e1"><div class="ttname"><a href="struct_d_m_a___init_type_def.html#a91b47435ccf4a40efa97bbbe631789e1">DMA_InitTypeDef::DMA_DIR</a></div><div class="ttdeci">uint32_t DMA_DIR</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:56</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html_a999df57215b28b3b1b3b6836c4952ca5"><div class="ttname"><a href="struct_d_m_a___init_type_def.html#a999df57215b28b3b1b3b6836c4952ca5">DMA_InitTypeDef::DMA_BufferSize</a></div><div class="ttdeci">uint32_t DMA_BufferSize</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:59</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html_aaf69c680a297ec01a2ed613289e691a1"><div class="ttname"><a href="struct_d_m_a___init_type_def.html#aaf69c680a297ec01a2ed613289e691a1">DMA_InitTypeDef::DMA_MemoryInc</a></div><div class="ttdeci">uint32_t DMA_MemoryInc</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:66</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html_ab9a17bd51778478cbd728c868206dca0"><div class="ttname"><a href="struct_d_m_a___init_type_def.html#ab9a17bd51778478cbd728c868206dca0">DMA_InitTypeDef::DMA_Priority</a></div><div class="ttdeci">uint32_t DMA_Priority</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:80</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html_ad4d427790f9a089ca0257a358fc263c2"><div class="ttname"><a href="struct_d_m_a___init_type_def.html#ad4d427790f9a089ca0257a358fc263c2">DMA_InitTypeDef::DMA_PeripheralInc</a></div><div class="ttdeci">uint32_t DMA_PeripheralInc</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:63</div></div>
<div class="ttc" id="astruct_d_m_a___init_type_def_html_afb46aaadfb80a7e19277c868bd252554"><div class="ttname"><a href="struct_d_m_a___init_type_def.html#afb46aaadfb80a7e19277c868bd252554">DMA_InitTypeDef::DMA_PeripheralDataSize</a></div><div class="ttdeci">uint32_t DMA_PeripheralDataSize</div><div class="ttdef"><b>Definition</b> stm32f10x_dma.h:69</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4"></a>
åœ¨bsp_dma_m2p.cä¸­å£°æ˜åœ¨å†…å­˜çš„å˜é‡</h1>
<div class="fragment"><div class="line">uint8_t <a class="code hl_variable" href="bsp__dma__m2p_8c.html#ad0be6bea973e44b948cee6fe0e755fcb">SendBuff</a>[<a class="code hl_define" href="bsp__dma__m2p_8h.html#affc4739854f3670ccc0279a9accf0e89">SENDBUFF_SIZE</a>];</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5"></a>
åœ¨main.cä¸­å£°æ˜å¤–éƒ¨å˜é‡</h1>
<div class="fragment"><div class="line"><span class="keyword">extern</span> uint8_t <a class="code hl_variable" href="bsp__dma__m2p_8c.html#ad0be6bea973e44b948cee6fe0e755fcb">SendBuff</a>[<a class="code hl_define" href="bsp__dma__m2p_8h.html#affc4739854f3670ccc0279a9accf0e89">SENDBUFF_SIZE</a>];</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
åœ¨main.cä¸­æµ‹è¯•DMA, å®ç°DMAå°†å‚¨å­˜å™¨ä¸­çš„æ•°æ®å‘é€åˆ°USART-&gt;DR, å¹¶å®ç°LED1é—ªçƒ</h1>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="bsp__led_8c.html#a89d2c2ccc2981f0583aa6e4c8f043298">LED_GPIO_Config</a>(); <span class="comment">// åˆå§‹åŒ–LED</span></div>
<div class="line">    <a class="code hl_function" href="bsp__dma__m2p_8c.html#ae9720bf2dbb461c28e0205b050f1a0bb">USART_Config</a>(); <span class="comment">// ä¸²å£åˆå§‹åŒ–</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>(uint16_t i = 0; i &lt; <a class="code hl_define" href="bsp__dma__m2p_8h.html#affc4739854f3670ccc0279a9accf0e89">SENDBUFF_SIZE</a>; i++)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_variable" href="bsp__dma__m2p_8c.html#ad0be6bea973e44b948cee6fe0e755fcb">SendBuff</a>[i] = <span class="charliteral">&#39;P&#39;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="bsp__dma__m2p_8c.html#a159c123526e5bfa3352f384285db5a6d">USARTx_DMA_Config</a>(); <span class="comment">// åˆå§‹åŒ–DMA</span></div>
<div class="line">    <a class="code hl_function" href="group___u_s_a_r_t___exported___functions.html#ga902857f199ebfba21c63d725354af66f">USART_DMACmd</a>(<a class="code hl_define" href="bsp__dma__m2p_8h.html#a53fd4b6f533e839273891855c5c90266">DEBUG_USARTx</a>, <a class="code hl_define" href="group___u_s_a_r_t___d_m_a___requests.html#gae38097d8f82ba969c9812194022cae9a">USART_DMAReq_Tx</a>, <a class="code hl_enumvalue" href="group___exported__types.html#ggac9a7e9a35d2513ec15c3b537aaa4fba1a7d46875fa3ebd2c34d2756950eda83bf">ENABLE</a>); <span class="comment">// ä½¿èƒ½DMAå‘é€</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span>(1)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_define" href="bsp__led_8h.html#a267fdbba1d750146b73da35c1731fd17">LED1_TOGGLE</a>;</div>
<div class="line">        <a class="code hl_function" href="main_8c.html#a1d3146414c54513a72a7596c2f884c07">Delay_ms</a>(10000);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="absp__led_8c_html_a89d2c2ccc2981f0583aa6e4c8f043298"><div class="ttname"><a href="bsp__led_8c.html#a89d2c2ccc2981f0583aa6e4c8f043298">LED_GPIO_Config</a></div><div class="ttdeci">void LED_GPIO_Config(void)</div><div class="ttdoc">åˆå§‹åŒ–æ§åˆ¶LEDçš„IO</div><div class="ttdef"><b>Definition</b> bsp_led.c:25</div></div>
<div class="ttc" id="absp__led_8h_html_a267fdbba1d750146b73da35c1731fd17"><div class="ttname"><a href="bsp__led_8h.html#a267fdbba1d750146b73da35c1731fd17">LED1_TOGGLE</a></div><div class="ttdeci">#define LED1_TOGGLE</div><div class="ttdef"><b>Definition</b> bsp_led.h:56</div></div>
<div class="ttc" id="agroup___u_s_a_r_t___d_m_a___requests_html_gae38097d8f82ba969c9812194022cae9a"><div class="ttname"><a href="group___u_s_a_r_t___d_m_a___requests.html#gae38097d8f82ba969c9812194022cae9a">USART_DMAReq_Tx</a></div><div class="ttdeci">#define USART_DMAReq_Tx</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.h:272</div></div>
<div class="ttc" id="agroup___u_s_a_r_t___exported___functions_html_ga902857f199ebfba21c63d725354af66f"><div class="ttname"><a href="group___u_s_a_r_t___exported___functions.html#ga902857f199ebfba21c63d725354af66f">USART_DMACmd</a></div><div class="ttdeci">void USART_DMACmd(USART_TypeDef *USARTx, uint16_t USART_DMAReq, FunctionalState NewState)</div><div class="ttdoc">Enables or disables the USART’s DMA interface.</div><div class="ttdef"><b>Definition</b> stm32f10x_usart.c:448</div></div>
<div class="ttc" id="amain_8c_html_a1d3146414c54513a72a7596c2f884c07"><div class="ttname"><a href="main_8c.html#a1d3146414c54513a72a7596c2f884c07">Delay_ms</a></div><div class="ttdeci">void Delay_ms(uint32_t ms)</div><div class="ttdoc">Delays the execution for a specified number of milliseconds.</div><div class="ttdef"><b>Definition</b> main.c:22</div></div>
<div class="ttc" id="amain_8c_html_a840291bc02cba5474a4cb46a9b9566fe"><div class="ttname"><a href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a></div><div class="ttdeci">int main(void)</div><div class="ttdoc">å®ç°DMAå°†å‚¨å­˜å™¨ä¸­çš„æ•°æ®å‘é€åˆ°USART-&gt;DR, å¹¶å®ç°LED1é—ªçƒ</div><div class="ttdef"><b>Definition</b> main.c:40</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
